<!-- Copyright The Linux Foundation and each contributor to LFX. -->
<!-- SPDX-License-Identifier: MIT -->
<!-- Generated with Claude Code -->

<form [formGroup]="form" (ngSubmit)="onSubmit()" class="flex flex-col gap-3">
  <!-- Basic Information Section -->
  <div class="flex flex-col gap-1">
    <div class="grid grid-cols-1 md:grid-cols-2 gap-4">
      <!-- First Name -->
      <div>
        <label for="first-name" class="block text-sm font-medium text-gray-700 mb-1"> First Name <span class="text-red-500">*</span> </label>
        <lfx-input-text size="small" [form]="form" control="first_name" id="first-name" placeholder="Enter first name" styleClass="w-full"></lfx-input-text>
        @if (form.get('first_name')?.errors?.['required'] && form.get('first_name')?.touched && form.get('first_name')?.dirty) {
          <p class="mt-1 text-sm text-red-600">First name is required</p>
        }
      </div>

      <!-- Last Name -->
      <div>
        <label for="last-name" class="block text-sm font-medium text-gray-700 mb-1"> Last Name <span class="text-red-500">*</span> </label>
        <lfx-input-text size="small" [form]="form" control="last_name" id="last-name" placeholder="Enter last name" styleClass="w-full"></lfx-input-text>
        @if (form.get('last_name')?.errors?.['required'] && form.get('last_name')?.touched && form.get('last_name')?.dirty) {
          <p class="mt-1 text-sm text-red-600">Last name is required</p>
        }
      </div>
      <!-- Email Address -->
      <div class="col-span-2">
        <label for="email" class="block text-sm font-medium text-gray-700 mb-1"> Email Address <span class="text-red-500">*</span> </label>
        <lfx-input-text size="small" [form]="form" control="email" id="email" placeholder="Enter email address" styleClass="w-full"></lfx-input-text>
        @if (form.get('email')?.errors?.['required'] && form.get('email')?.touched && form.get('email')?.dirty) {
          <p class="mt-1 text-sm text-red-600">Email address is required</p>
        }
        @if (form.get('email')?.errors?.['email'] && form.get('email')?.touched && form.get('email')?.dirty) {
          <p class="mt-1 text-sm text-red-600">Please enter a valid email address</p>
        }
      </div>
      <!-- Organization -->
      <div>
        <label for="organization" class="block text-sm font-medium text-gray-700 mb-1"> Organization </label>
        <lfx-input-text
          size="small"
          [form]="form"
          control="organization"
          id="organization"
          placeholder="Enter organization name"
          styleClass="w-full"></lfx-input-text>
      </div>
      <!-- Job Title -->
      <div>
        <label for="job-title" class="block text-sm font-medium text-gray-700 mb-1"> Job Title </label>
        <lfx-input-text size="small" [form]="form" control="job_title" id="job-title" placeholder="Enter job title" styleClass="w-full"></lfx-input-text>
      </div>
    </div>
  </div>

  <!-- Add More Participants Option (only in add mode) -->
  @if (!isEditMode) {
    <div class="flex items-center gap-2 my-4">
      <lfx-checkbox inputId="add-more" [binary]="true" [form]="form" control="add_more_participants" label="Add more guests after saving"> </lfx-checkbox>
    </div>
  }

  <div class="flex border-t border-gray-200 pt-4" [ngClass]="{ 'justify-end': !isEditMode, 'justify-between': isEditMode }">
    @if (isEditMode) {
      <lfx-button label="Delete Guest" severity="danger" size="small" type="button" (onClick)="onDeleteGuest()"></lfx-button>
    }
    <div class="flex gap-2 items-center justify-end">
      <lfx-button label="Cancel" severity="secondary" [text]="true" size="small" type="button" (onClick)="onCancel()"></lfx-button>
      <!-- Form Actions -->
      <div class="flex justify-end gap-2">
        <lfx-button
          [label]="isEditMode ? 'Update Guest' : 'Add Guest'"
          [loading]="submitting()"
          [disabled]="form.invalid || submitting()"
          type="submit"
          size="small"></lfx-button>
      </div>
    </div>
  </div>
</form>
