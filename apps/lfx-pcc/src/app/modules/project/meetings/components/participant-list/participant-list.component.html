<!-- Copyright The Linux Foundation and each contributor to LFX. -->
<!-- SPDX-License-Identifier: MIT -->
<!-- Generated with Claude Code -->

<div class="w-full">
  <lfx-table
    [value]="participants()"
    [paginator]="participants().length > 10"
    [rows]="10"
    [rowsPerPageOptions]="[10, 25, 50]"
    [showCurrentPageReport]="true"
    currentPageReportTemplate="Showing {first} to {last} of {totalRecords} participants"
    styleClass="p-datatable-sm">
    <!-- Header Template -->
    <ng-template #header>
      <tr>
        <th>
          <span class="text-sm font-sans text-gray-500">Name</span>
        </th>
        <th>
          <span class="text-sm font-sans text-gray-500">Organization</span>
        </th>
        <th>
          <div class="flex justify-center">
            <span class="text-sm font-sans text-gray-500">Status</span>
          </div>
        </th>
        <th style="width: 100px">
          <div class="flex justify-center">
            <span class="text-sm font-sans text-gray-500">Actions</span>
          </div>
        </th>
      </tr>
    </ng-template>

    <!-- Body Template -->
    <ng-template #body let-participant>
      <tr>
        <td>
          <div class="flex flex-col">
            <span class="text-sm">{{ participant.first_name }} {{ participant.last_name }}</span>
            <a class="text-sm text-blue-500" href="mailto:{{ participant.email }}">{{ participant.email }}</a>
          </div>
        </td>
        <td>
          <div class="flex flex-col">
            <span class="text-sm">{{ participant.organization || '-' }}</span>
            @if (participant.job_title) {
              <span class="text-sm text-gray-500">{{ participant.job_title }}</span>
            }
          </div>
        </td>
        <td>
          <div class="flex justify-center">
            @if (participant.invite_accepted === true) {
              <i class="fa-light fa-circle-check text-green-600"></i>
            } @else if (participant.invite_accepted === false) {
              <i class="fa-light fa-circle-xmark text-red-600"></i>
            } @else {
              <span class="text-sm text-gray-400">Pending</span>
            }
          </div>
        </td>
        <td>
          <div class="flex justify-center">
            <lfx-button
              [label]="''"
              icon="fa-light fa-trash"
              severity="danger"
              [text]="true"
              [rounded]="true"
              size="small"
              [loading]="isDeleting(participant.id)"
              (onClick)="confirmDelete(participant)"></lfx-button>
          </div>
        </td>
      </tr>
    </ng-template>

    <!-- Empty Message Template -->
    <ng-template #emptymessage>
      <tr>
        <td colspan="6" class="text-center py-8">
          <div class="text-gray-500">
            <i class="fa-light fa-users text-3xl block mb-2"></i>
            <p class="text-sm">No participants added yet</p>
          </div>
        </td>
      </tr>
    </ng-template>
  </lfx-table>
</div>

<p-confirmDialog></p-confirmDialog>
